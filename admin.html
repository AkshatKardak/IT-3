<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AnitechCS Admin Panel - Content Management System</title>
    <meta name="description" content="AnitechCS Admin Panel - Manage website content, testimonials, holiday banners, and currency settings without a backend.">
    <meta name="robots" content="noindex, nofollow">
    
    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="/favicon.ico">
    
    <!-- Font Awesome for Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    
    <!-- Custom CSS -->
    <link rel="stylesheet" href="assets/css/styles.css">
    
    <!-- Admin-specific styles -->
    <style>
        body {
            background: var(--light-gray);
        }
        
        .admin-header {
            background: var(--secondary-color);
            color: white;
            padding: 2rem 0;
            margin-bottom: 2rem;
        }
        
        .admin-nav {
            background: var(--white);
            padding: 1rem 0;
            box-shadow: var(--shadow-light);
            margin-bottom: 2rem;
            position: sticky;
            top: 0;
            z-index: 100;
        }
        
        .admin-nav .nav-link {
            color: var(--text-dark);
            font-weight: 500;
            padding: 0.5rem 1rem;
            border-radius: var(--border-radius);
            transition: var(--transition-fast);
        }
        
        .admin-nav .nav-link:hover,
        .admin-nav .nav-link.active {
            background: var(--primary-color);
            color: white;
        }
        
        .section-card {
            background: white;
            border-radius: var(--border-radius-large);
            padding: 2rem;
            margin-bottom: 2rem;
            box-shadow: var(--shadow-light);
        }
        
        .status-indicator {
            display: inline-block;
            width: 10px;
            height: 10px;
            border-radius: 50%;
            margin-right: 0.5rem;
        }
        
        .status-active {
            background-color: #28a745;
        }
        
        .status-inactive {
            background-color: #dc3545;
        }
        
        .json-viewer {
            background: var(--secondary-color);
            color: var(--accent-color);
            padding: 1rem;
            border-radius: var(--border-radius);
            font-family: 'Courier New', monospace;
            font-size: 0.85rem;
            max-height: 300px;
            overflow-y: auto;
            white-space: pre-wrap;
            word-wrap: break-word;
        }
        
        .help-text {
            background: #e7f3ff;
            border-left: 4px solid var(--primary-color);
            padding: 1rem;
            margin: 1rem 0;
            border-radius: 0 var(--border-radius) var(--border-radius) 0;
        }
        
        .danger-zone {
            background: #fff5f5;
            border: 1px solid #feb2b2;
            border-radius: var(--border-radius);
            padding: 1.5rem;
            margin-top: 2rem;
        }
        
        .btn-danger {
            background: #dc3545;
            border-color: #dc3545;
            color: white;
        }
        
        .btn-danger:hover {
            background: #c82333;
            border-color: #bd2130;
            color: white;
        }
        
        .currency-table {
            font-size: 0.9rem;
        }
        
        .currency-table th {
            background: var(--light-gray);
            font-weight: 600;
        }
    </style>
</head>
<body>
    <!-- Admin Header -->
    <header class="admin-header">
        <div class="container">
            <div class="d-flex justify-content-between align-items-center">
                <div>
                    <h1>AnitechCS Admin Panel</h1>
                    <p class="mb-0">Content Management System - No Backend Required</p>
                </div>
                <div>
                    <a href="index.html" class="btn btn-light">
                        <i class="fas fa-home"></i> Back to Website
                    </a>
                </div>
            </div>
        </div>
    </header>
    
    <!-- Admin Navigation -->
    <nav class="admin-nav">
        <div class="container">
            <ul class="nav nav-pills">
                <li class="nav-item">
                    <a class="nav-link active" href="#dashboard" data-section="dashboard">
                        <i class="fas fa-tachometer-alt"></i> Dashboard
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="#holiday-banner" data-section="holiday-banner">
                        <i class="fas fa-flag"></i> Holiday Banner
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="#testimonials" data-section="testimonials">
                        <i class="fas fa-quote-left"></i> Testimonials
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="#currency" data-section="currency">
                        <i class="fas fa-money-bill"></i> Currency Settings
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="#export-import" data-section="export-import">
                        <i class="fas fa-exchange-alt"></i> Export/Import
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="#help" data-section="help">
                        <i class="fas fa-question-circle"></i> Help
                    </a>
                </li>
            </ul>
        </div>
    </nav>
    
    <main class="container">
        <!-- Dashboard Section -->
        <section id="dashboard-section" class="admin-section">
            <div class="section-card">
                <h2><i class="fas fa-tachometer-alt"></i> Dashboard</h2>
                <p>Overview of your website's current settings and status</p>
                
                <div class="row">
                    <div class="col-md-4">
                        <div class="card text-center" style="background: linear-gradient(135deg, var(--primary-color), #0056b3); color: white;">
                            <div class="card-body">
                                <i class="fas fa-flag" style="font-size: 2rem; margin-bottom: 1rem;"></i>
                                <h4>Holiday Banner</h4>
                                <p id="banner-status" class="mb-0">Loading...</p>
                            </div>
                        </div>
                    </div>
                    
                    <div class="col-md-4">
                        <div class="card text-center" style="background: linear-gradient(135deg, #28a745, #20c997); color: white;">
                            <div class="card-body">
                                <i class="fas fa-quote-left" style="font-size: 2rem; margin-bottom: 1rem;"></i>
                                <h4>Testimonials</h4>
                                <p id="testimonials-count" class="mb-0">Loading...</p>
                            </div>
                        </div>
                    </div>
                    
                    <div class="col-md-4">
                        <div class="card text-center" style="background: linear-gradient(135deg, #fd7e14, #e55100); color: white;">
                            <div class="card-body">
                                <i class="fas fa-money-bill" style="font-size: 2rem; margin-bottom: 1rem;"></i>
                                <h4>Currency Settings</h4>
                                <p id="currency-status" class="mb-0">Loading...</p>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="help-text">
                    <h5><i class="fas fa-info-circle"></i> How It Works</h5>
                    <p>This admin panel uses localStorage to save settings that affect your website. Changes are applied immediately without needing a backend server. Use the navigation above to manage different aspects of your website.</p>
                </div>
            </div>
        </section>
        
        <!-- Holiday Banner Section -->
        <section id="holiday-banner-section" class="admin-section" style="display: none;">
            <div class="section-card">
                <h2><i class="fas fa-flag"></i> Holiday Banner Management</h2>
                <p>Control the holiday banner that appears at the top of your website during special occasions.</p>
                
                <div class="row">
                    <div class="col-md-8">
                        <div class="form-group">
                            <label for="banner-text" class="form-label">Banner Text</label>
                            <textarea id="banner-text" class="form-control" rows="3" placeholder="üéâ Holiday Special: 15% off all services during Thanksgiving, Christmas & New Year! Contact us today! üéÅ"></textarea>
                            <small class="form-text text-muted">HTML and emojis are supported</small>
                        </div>
                        
                        <div class="admin-controls">
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" id="banner-auto-enable">
                                <label class="form-check-label" for="banner-auto-enable">
                                    Auto-enable during holidays (Thanksgiving, Christmas, New Year)
                                </label>
                            </div>
                            
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" id="banner-force-show">
                                <label class="form-check-label" for="banner-force-show">
                                    Force show banner (overrides auto-detection and dismissal)
                                </label>
                            </div>
                            
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" id="banner-disable">
                                <label class="form-check-label" for="banner-disable">
                                    Disable banner completely
                                </label>
                            </div>
                        </div>
                        
                        <button id="save-banner" class="btn btn-primary">
                            <i class="fas fa-save"></i> Save Banner Settings
                        </button>
                    </div>
                    
                    <div class="col-md-4">
                        <div class="card">
                            <div class="card-header">
                                <h5>Holiday Dates (Automatic)</h5>
                            </div>
                            <div class="card-body">
                                <ul class="list-unstyled">
                                    <li><i class="fas fa-turkey"></i> Thanksgiving: <span id="thanksgiving-date">Loading...</span></li>
                                    <li><i class="fas fa-tree"></i> Christmas: December 25</li>
                                    <li><i class="fas fa-champagne-glasses"></i> New Year Week: Dec 26 - Jan 1</li>
                                </ul>
                            </div>
                        </div>
                        
                        <div class="card mt-3">
                            <div class="card-header">
                                <h5>Preview</h5>
                            </div>
                            <div class="card-body p-0">
                                <div id="banner-preview" style="background: linear-gradient(135deg, #28a745, #20c997); color: white; padding: 10px; text-align: center; font-weight: 600;">
                                    Preview will appear here
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        
        <!-- Testimonials Section -->
        <section id="testimonials-section" class="admin-section" style="display: none;">
            <div class="section-card">
                <h2><i class="fas fa-quote-left"></i> Testimonials Management</h2>
                <p>Manage customer testimonials that appear on your website. One testimonial per line.</p>
                
                <div class="form-group">
                    <label for="testimonials-editor" class="form-label">Testimonials (One per line: "Quote ‚Äî Author Name")</label>
                    <textarea id="testimonials-editor" class="form-control admin-textarea" rows="10" placeholder="AnitechCS transformed our digital presence with their exceptional web development services. Highly recommended! ‚Äî Sarah Johnson, CEO TechStart Inc
Outstanding cloud hosting solutions with 99.9% uptime. Their support team is incredibly responsive. ‚Äî Michael Chen, CTO CloudTech Solutions
Professional service and innovative approach. They delivered our e-commerce platform ahead of schedule. ‚Äî Emily Rodriguez, Founder ShopSmart"></textarea>
                    <small class="form-text text-muted">Format: Quote text ‚Äî Author Name, Title/Company. Use em dash (‚Äî) to separate quote from author.</small>
                </div>
                
                <div class="help-text">
                    <h5><i class="fas fa-lightbulb"></i> Tips for Great Testimonials</h5>
                    <ul>
                        <li>Keep quotes between 20-50 words for best display</li>
                        <li>Include specific benefits or outcomes when possible</li>
                        <li>Use real names and titles/companies for credibility</li>
                        <li>Rotate testimonials regularly to keep content fresh</li>
                    </ul>
                </div>
                
                <div class="admin-controls">
                    <button id="save-testimonials" class="btn btn-primary">
                        <i class="fas fa-save"></i> Save Testimonials
                    </button>
                    <button id="preview-testimonials" class="btn btn-outline">
                        <i class="fas fa-eye"></i> Preview
                    </button>
                    <button id="reset-testimonials" class="btn btn-outline" style="color: var(--text-muted);">
                        <i class="fas fa-undo"></i> Reset to Defaults
                    </button>
                </div>
                
                <div id="testimonials-preview" class="mt-4" style="display: none;">
                    <h5>Preview:</h5>
                    <div id="testimonials-preview-content"></div>
                </div>
            </div>
        </section>
        
        <!-- Currency Settings Section -->
        <section id="currency-section" class="admin-section" style="display: none;">
            <div class="section-card">
                <h2><i class="fas fa-money-bill"></i> Currency Settings</h2>
                <p>Configure currency defaults and fallback exchange rates for your pricing system.</p>
                
                <div class="row">
                    <div class="col-md-6">
                        <div class="form-group">
                            <label for="default-currency" class="form-label">Default Currency</label>
                            <select id="default-currency" class="form-control form-select">
                                <option value="">AUTO (detect by location)</option>
                                <option value="USD">USD - US Dollar</option>
                                <option value="INR">INR - Indian Rupee</option>
                                <option value="EUR">EUR - Euro</option>
                                <option value="GBP">GBP - British Pound</option>
                                <option value="CAD">CAD - Canadian Dollar</option>
                                <option value="PHP">PHP - Philippine Peso</option>
                                <option value="ZAR">ZAR - South African Rand</option>
                            </select>
                            <small class="form-text text-muted">This overrides automatic currency detection</small>
                        </div>
                    </div>
                    
                    <div class="col-md-6">
                        <div class="card">
                            <div class="card-header">
                                <h5>Current Exchange Rates</h5>
                            </div>
                            <div class="card-body">
                                <div id="current-rates">Loading...</div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <h4>Fallback Exchange Rates</h4>
                <p>These rates are used when live rates cannot be fetched. Update them periodically for accuracy.</p>
                
                <div class="table-responsive">
                    <table class="table table-striped currency-table">
                        <thead>
                            <tr>
                                <th>Currency</th>
                                <th>Code</th>
                                <th>Rate (1 USD =)</th>
                                <th>Last Updated</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><i class="fas fa-dollar-sign"></i> US Dollar</td>
                                <td>USD</td>
                                <td><input type="number" id="rate-USD" class="form-control" value="1.00" readonly></td>
                                <td>Base currency</td>
                            </tr>
                            <tr>
                                <td><i class="fas fa-rupee-sign"></i> Indian Rupee</td>
                                <td>INR</td>
                                <td><input type="number" id="rate-INR" class="form-control" step="0.01" value="83.12"></td>
                                <td><span id="inr-updated">Manual</span></td>
                            </tr>
                            <tr>
                                <td><i class="fas fa-euro-sign"></i> Euro</td>
                                <td>EUR</td>
                                <td><input type="number" id="rate-EUR" class="form-control" step="0.01" value="0.85"></td>
                                <td><span id="eur-updated">Manual</span></td>
                            </tr>
                            <tr>
                                <td><i class="fas fa-pound-sign"></i> British Pound</td>
                                <td>GBP</td>
                                <td><input type="number" id="rate-GBP" class="form-control" step="0.01" value="0.73"></td>
                                <td><span id="gbp-updated">Manual</span></td>
                            </tr>
                            <tr>
                                <td>üíµ Canadian Dollar</td>
                                <td>CAD</td>
                                <td><input type="number" id="rate-CAD" class="form-control" step="0.01" value="1.25"></td>
                                <td><span id="cad-updated">Manual</span></td>
                            </tr>
                            <tr>
                                <td>üí± Philippine Peso</td>
                                <td>PHP</td>
                                <td><input type="number" id="rate-PHP" class="form-control" step="0.01" value="55.50"></td>
                                <td><span id="php-updated">Manual</span></td>
                            </tr>
                            <tr>
                                <td>üèõÔ∏è South African Rand</td>
                                <td>ZAR</td>
                                <td><input type="number" id="rate-ZAR" class="form-control" step="0.01" value="18.75"></td>
                                <td><span id="zar-updated">Manual</span></td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                
                <div class="admin-controls">
                    <button id="save-currency" class="btn btn-primary">
                        <i class="fas fa-save"></i> Save Currency Settings
                    </button>
                    <button id="fetch-live-rates" class="btn btn-outline">
                        <i class="fas fa-sync"></i> Fetch Live Rates
                    </button>
                    <button id="reset-currency" class="btn btn-outline" style="color: var(--text-muted);">
                        <i class="fas fa-undo"></i> Reset to Defaults
                    </button>
                </div>
            </div>
        </section>
        
        <!-- Export/Import Section -->
        <section id="export-import-section" class="admin-section" style="display: none;">
            <div class="section-card">
                <h2><i class="fas fa-exchange-alt"></i> Export/Import Settings</h2>
                <p>Backup your settings or transfer them to another environment.</p>
                
                <div class="row">
                    <div class="col-md-6">
                        <h4><i class="fas fa-download"></i> Export Settings</h4>
                        <p>Export all your current settings as JSON for backup or transfer.</p>
                        
                        <button id="export-settings" class="btn btn-primary">
                            <i class="fas fa-download"></i> Export All Settings
                        </button>
                        
                        <div id="export-output" class="mt-3" style="display: none;">
                            <label for="export-json" class="form-label">Exported Settings (Copy this JSON):</label>
                            <div class="json-viewer" id="export-json"></div>
                            <button id="copy-export" class="btn btn-outline btn-sm mt-2">
                                <i class="fas fa-copy"></i> Copy to Clipboard
                            </button>
                        </div>
                    </div>
                    
                    <div class="col-md-6">
                        <h4><i class="fas fa-upload"></i> Import Settings</h4>
                        <p>Import settings from a previously exported JSON.</p>
                        
                        <div class="form-group">
                            <label for="import-json" class="form-label">Paste JSON Settings:</label>
                            <textarea id="import-json" class="form-control admin-textarea" rows="10" placeholder="Paste your exported JSON settings here..."></textarea>
                        </div>
                        
                        <div class="admin-controls">
                            <button id="import-settings" class="btn btn-primary">
                                <i class="fas fa-upload"></i> Import Settings
                            </button>
                            <button id="validate-json" class="btn btn-outline">
                                <i class="fas fa-check"></i> Validate JSON
                            </button>
                        </div>
                        
                        <div id="import-status" class="mt-3"></div>
                    </div>
                </div>
                
                <div class="help-text mt-4">
                    <h5><i class="fas fa-exclamation-triangle"></i> Important Notes</h5>
                    <ul>
                        <li>Always export your settings before making major changes</li>
                        <li>Importing will overwrite your current settings completely</li>
                        <li>Validate JSON before importing to avoid errors</li>
                        <li>Keep backups of your settings for disaster recovery</li>
                    </ul>
                </div>
            </div>
        </section>
        
        <!-- Help Section -->
        <section id="help-section" class="admin-section" style="display: none;">
            <div class="section-card">
                <h2><i class="fas fa-question-circle"></i> Help & Documentation</h2>
                <p>Learn how to use this admin panel and manage your website content.</p>
                
                <div class="row">
                    <div class="col-md-6">
                        <div class="card">
                            <div class="card-header">
                                <h5><i class="fas fa-cogs"></i> How It Works</h5>
                            </div>
                            <div class="card-body">
                                <p>This admin panel uses browser localStorage to save settings. No backend server is required.</p>
                                <ul>
                                    <li>Changes are applied immediately</li>
                                    <li>Settings persist in your browser</li>
                                    <li>Use Export/Import for backups</li>
                                    <li>Clear localStorage to reset everything</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                    
                    <div class="col-md-6">
                        <div class="card">
                            <div class="card-header">
                                <h5><i class="fas fa-lightbulb"></i> Quick Start</h5>
                            </div>
                            <div class="card-body">
                                <ol>
                                    <li>Use the Dashboard to see current status</li>
                                    <li>Configure Holiday Banner for seasonal promotions</li>
                                    <li>Update Testimonials with customer feedback</li>
                                    <li>Set Currency defaults if needed</li>
                                    <li>Export settings as backup</li>
                                </ol>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="row mt-4">
                    <div class="col-md-12">
                        <div class="card">
                            <div class="card-header">
                                <h5><i class="fas fa-keyboard"></i> Keyboard Shortcuts</h5>
                            </div>
                            <div class="card-body">
                                <div class="row">
                                    <div class="col-md-4">
                                        <strong>General:</strong>
                                        <ul class="list-unstyled">
                                            <li><kbd>Ctrl</kbd> + <kbd>S</kbd> - Save current section</li>
                                            <li><kbd>Ctrl</kbd> + <kbd>E</kbd> - Export settings</li>
                                            <li><kbd>Ctrl</kbd> + <kbd>H</kbd> - Show/Hide help</li>
                                        </ul>
                                    </div>
                                    <div class="col-md-4">
                                        <strong>Navigation:</strong>
                                        <ul class="list-unstyled">
                                            <li><kbd>1</kbd> - Dashboard</li>
                                            <li><kbd>2</kbd> - Holiday Banner</li>
                                            <li><kbd>3</kbd> - Testimonials</li>
                                        </ul>
                                    </div>
                                    <div class="col-md-4">
                                        <strong>Advanced:</strong>
                                        <ul class="list-unstyled">
                                            <li><kbd>4</kbd> - Currency Settings</li>
                                            <li><kbd>5</kbd> - Export/Import</li>
                                            <li><kbd>6</kbd> - Help</li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="danger-zone">
                    <h4><i class="fas fa-exclamation-triangle"></i> Danger Zone</h4>
                    <p>These actions cannot be undone. Make sure you have exported your settings before proceeding.</p>
                    
                    <div class="admin-controls">
                        <button id="clear-all-data" class="btn btn-danger">
                            <i class="fas fa-trash"></i> Clear All Settings
                        </button>
                        <button id="reset-to-defaults" class="btn btn-danger">
                            <i class="fas fa-undo-alt"></i> Reset Everything to Defaults
                        </button>
                    </div>
                    
                    <p class="mt-2"><small>These actions will remove all your customizations and cannot be reversed.</small></p>
                </div>
            </div>
        </section>
    </main>
    
    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    
    <!-- Admin Panel JavaScript -->
    <script>
        // Admin Panel Management System
        class AdminPanel {
            constructor() {
                this.storageKey = 'anitechcs_admin_settings';
                this.currentSection = 'dashboard';
                this.settings = this.loadSettings();
                this.initializeUI();
                this.bindEvents();
                this.updateDashboard();
            }
            
            // Load settings from localStorage
            loadSettings() {
                try {
                    const saved = localStorage.getItem(this.storageKey);
                    return saved ? JSON.parse(saved) : this.getDefaultSettings();
                } catch (error) {
                    console.error('Error loading settings:', error);
                    return this.getDefaultSettings();
                }
            }
            
            // Get default settings structure
            getDefaultSettings() {
                return {
                    holidayBanner: {
                        text: 'üéâ Holiday Special: 15% off all services during Thanksgiving, Christmas & New Year! Contact us today! üéÅ',
                        autoEnable: true,
                        forceShow: false,
                        disable: false
                    },
                    testimonials: [
                        {
                            quote: 'AnitechCS transformed our digital presence with their exceptional web development services. Highly recommended!',
                            author: 'Sarah Johnson, CEO TechStart Inc'
                        },
                        {
                            quote: 'Outstanding cloud hosting solutions with 99.9% uptime. Their support team is incredibly responsive.',
                            author: 'Michael Chen, CTO CloudTech Solutions'
                        },
                        {
                            quote: 'Professional service and innovative approach. They delivered our e-commerce platform ahead of schedule.',
                            author: 'Emily Rodriguez, Founder ShopSmart'
                        }
                    ],
                    currency: {
                        defaultCurrency: '',
                        fallbackRates: {
                            USD: 1.00,
                            INR: 83.12,
                            EUR: 0.85,
                            GBP: 0.73,
                            CAD: 1.25,
                            PHP: 55.50,
                            ZAR: 18.75
                        },
                        lastUpdated: new Date().toISOString()
                    }
                };
            }
            
            // Save settings to localStorage
            saveSettings() {
                try {
                    localStorage.setItem(this.storageKey, JSON.stringify(this.settings));
                    this.showNotification('Settings saved successfully!', 'success');
                    this.updateDashboard();
                } catch (error) {
                    console.error('Error saving settings:', error);
                    this.showNotification('Error saving settings: ' + error.message, 'error');
                }
            }
            
            // Initialize UI
            initializeUI() {
                // Load current settings into UI
                this.loadHolidayBannerUI();
                this.loadTestimonialsUI();
                this.loadCurrencyUI();
                
                // Calculate and display Thanksgiving date
                const thanksgiving = this.getThanksgivingDate(new Date().getFullYear());
                document.getElementById('thanksgiving-date').textContent = thanksgiving.toLocaleDateString();
                
                // Show initial section
                this.showSection('dashboard');
            }
            
            // Calculate Thanksgiving date (4th Thursday of November)
            getThanksgivingDate(year) {
                const november = new Date(year, 10, 1);
                const firstThursday = 1 + (4 - november.getDay() + 7) % 7;
                return new Date(year, 10, firstThursday + 21);
            }
            
            // Bind event listeners
            bindEvents() {
                // Navigation
                document.querySelectorAll('.admin-nav .nav-link').forEach(link => {
                    link.addEventListener('click', (e) => {
                        e.preventDefault();
                        const section = link.dataset.section;
                        this.showSection(section);
                    });
                });
                
                // Holiday Banner
                document.getElementById('save-banner').addEventListener('click', () => this.saveHolidayBanner());
                document.getElementById('banner-text').addEventListener('input', () => this.previewBanner());
                
                // Testimonials
                document.getElementById('save-testimonials').addEventListener('click', () => this.saveTestimonials());
                document.getElementById('preview-testimonials').addEventListener('click', () => this.previewTestimonials());
                document.getElementById('reset-testimonials').addEventListener('click', () => this.resetTestimonials());
                
                // Currency
                document.getElementById('save-currency').addEventListener('click', () => this.saveCurrency());
                document.getElementById('fetch-live-rates').addEventListener('click', () => this.fetchLiveRates());
                document.getElementById('reset-currency').addEventListener('click', () => this.resetCurrency());
                
                // Export/Import
                document.getElementById('export-settings').addEventListener('click', () => this.exportSettings());
                document.getElementById('import-settings').addEventListener('click', () => this.importSettings());
                document.getElementById('validate-json').addEventListener('click', () => this.validateJSON());
                document.getElementById('copy-export').addEventListener('click', () => this.copyExport());
                
                // Help - Danger Zone
                document.getElementById('clear-all-data').addEventListener('click', () => this.clearAllData());
                document.getElementById('reset-to-defaults').addEventListener('click', () => this.resetToDefaults());
                
                // Keyboard shortcuts
                document.addEventListener('keydown', (e) => this.handleKeyboardShortcuts(e));
            }
            
            // Show specific section
            showSection(section) {
                // Hide all sections
                document.querySelectorAll('.admin-section').forEach(s => s.style.display = 'none');
                
                // Show target section
                document.getElementById(`${section}-section`).style.display = 'block';
                
                // Update navigation
                document.querySelectorAll('.admin-nav .nav-link').forEach(link => {
                    link.classList.remove('active');
                    if (link.dataset.section === section) {
                        link.classList.add('active');
                    }
                });
                
                this.currentSection = section;
            }
            
            // Update dashboard status
            updateDashboard() {
                // Holiday Banner Status
                const bannerStatus = this.settings.holidayBanner.disable ? 'Disabled' : 
                    this.settings.holidayBanner.forceShow ? 'Force Enabled' : 
                    this.settings.holidayBanner.autoEnable ? 'Auto Mode' : 'Manual Mode';
                document.getElementById('banner-status').textContent = bannerStatus;
                
                // Testimonials Count
                document.getElementById('testimonials-count').textContent = `${this.settings.testimonials.length} Active`;
                
                // Currency Status
                const currencyStatus = this.settings.currency.defaultCurrency || 'Auto-detect';
                document.getElementById('currency-status').textContent = currencyStatus;
                
                // Current Rates Display
                const ratesHtml = Object.entries(this.settings.currency.fallbackRates)
                    .map(([code, rate]) => `<small>${code}: ${rate}</small>`)
                    .join('<br>');
                document.getElementById('current-rates').innerHTML = ratesHtml;
            }
            
            // Holiday Banner Management
            loadHolidayBannerUI() {
                const banner = this.settings.holidayBanner;
                document.getElementById('banner-text').value = banner.text;
                document.getElementById('banner-auto-enable').checked = banner.autoEnable;
                document.getElementById('banner-force-show').checked = banner.forceShow;
                document.getElementById('banner-disable').checked = banner.disable;
                this.previewBanner();
            }
            
            previewBanner() {
                const text = document.getElementById('banner-text').value;
                document.getElementById('banner-preview').innerHTML = text || 'Preview will appear here';
            }
            
            saveHolidayBanner() {
                this.settings.holidayBanner = {
                    text: document.getElementById('banner-text').value,
                    autoEnable: document.getElementById('banner-auto-enable').checked,
                    forceShow: document.getElementById('banner-force-show').checked,
                    disable: document.getElementById('banner-disable').checked
                };
                this.saveSettings();
            }
            
            // Testimonials Management
            loadTestimonialsUI() {
                const testimonialsText = this.settings.testimonials.map(t => `${t.quote} ‚Äî ${t.author}`).join('\n');
                document.getElementById('testimonials-editor').value = testimonialsText;
            }
            
            saveTestimonials() {
                const text = document.getElementById('testimonials-editor').value;
                this.settings.testimonials = this.parseTestimonials(text);
                this.saveSettings();
            }
            
            parseTestimonials(text) {
                return text.split('\n')
                    .filter(line => line.trim())
                    .map(line => {
                        const parts = line.split(' ‚Äî ');
                        if (parts.length >= 2) {
                            return {
                                quote: parts[0].trim(),
                                author: parts.slice(1).join(' ‚Äî ').trim()
                            };
                        }
                        return { quote: line.trim(), author: 'Anonymous' };
                    });
            }
            
            previewTestimonials() {
                const text = document.getElementById('testimonials-editor').value;
                const testimonials = this.parseTestimonials(text);
                
                const previewHtml = testimonials.map(t => 
                    `<div class="card mb-2"><div class="card-body">"${t.quote}" <br><small class="text-muted">‚Äî ${t.author}</small></div></div>`
                ).join('');
                
                document.getElementById('testimonials-preview-content').innerHTML = previewHtml;
                document.getElementById('testimonials-preview').style.display = 'block';
            }
            
            resetTestimonials() {
                if (confirm('Are you sure you want to reset testimonials to defaults?')) {
                    this.settings.testimonials = this.getDefaultSettings().testimonials;
                    this.loadTestimonialsUI();
                    this.saveSettings();
                }
            }
            
            // Currency Management
            loadCurrencyUI() {
                document.getElementById('default-currency').value = this.settings.currency.defaultCurrency;
                
                Object.entries(this.settings.currency.fallbackRates).forEach(([code, rate]) => {
                    const input = document.getElementById(`rate-${code}`);
                    if (input) input.value = rate;
                });
            }
            
            saveCurrency() {
                this.settings.currency.defaultCurrency = document.getElementById('default-currency').value;
                
                Object.keys(this.settings.currency.fallbackRates).forEach(code => {
                    const input = document.getElementById(`rate-${code}`);
                    if (input) {
                        this.settings.currency.fallbackRates[code] = parseFloat(input.value) || 1.0;
                    }
                });
                
                this.settings.currency.lastUpdated = new Date().toISOString();
                this.saveSettings();
            }
            
            async fetchLiveRates() {
                try {
                    const response = await fetch('https://api.exchangerate-api.com/v4/latest/USD');
                    const data = await response.json();
                    
                    Object.keys(this.settings.currency.fallbackRates).forEach(code => {
                        if (data.rates[code]) {
                            this.settings.currency.fallbackRates[code] = data.rates[code];
                            const input = document.getElementById(`rate-${code}`);
                            if (input) input.value = data.rates[code].toFixed(2);
                            
                            const updateSpan = document.getElementById(`${code.toLowerCase()}-updated`);
                            if (updateSpan) updateSpan.textContent = new Date().toLocaleDateString();
                        }
                    });
                    
                    this.showNotification('Live rates fetched successfully!', 'success');
                } catch (error) {
                    this.showNotification('Error fetching live rates: ' + error.message, 'error');
                }
            }
            
            resetCurrency() {
                if (confirm('Are you sure you want to reset currency settings to defaults?')) {
                    this.settings.currency = this.getDefaultSettings().currency;
                    this.loadCurrencyUI();
                    this.saveSettings();
                }
            }
            
            // Export/Import
            exportSettings() {
                const exportData = {
                    version: '1.0',
                    exportDate: new Date().toISOString(),
                    settings: this.settings
                };
                
                const json = JSON.stringify(exportData, null, 2);
                document.getElementById('export-json').textContent = json;
                document.getElementById('export-output').style.display = 'block';
            }
            
            copyExport() {
                const text = document.getElementById('export-json').textContent;
                navigator.clipboard.writeText(text).then(() => {
                    this.showNotification('Copied to clipboard!', 'success');
                }).catch(() => {
                    this.showNotification('Failed to copy to clipboard', 'error');
                });
            }
            
            validateJSON() {
                const text = document.getElementById('import-json').value;
                try {
                    JSON.parse(text);
                    this.showImportStatus('JSON is valid ‚úÖ', 'success');
                } catch (error) {
                    this.showImportStatus(`Invalid JSON: ${error.message}`, 'error');
                }
            }
            
            importSettings() {
                const text = document.getElementById('import-json').value;
                try {
                    const data = JSON.parse(text);
                    
                    if (data.settings) {
                        if (confirm('This will overwrite all current settings. Are you sure?')) {
                            this.settings = data.settings;
                            this.saveSettings();
                            this.initializeUI();
                            this.showImportStatus('Settings imported successfully!', 'success');
                        }
                    } else {
                        this.showImportStatus('Invalid settings format', 'error');
                    }
                } catch (error) {
                    this.showImportStatus(`Import failed: ${error.message}`, 'error');
                }
            }
            
            showImportStatus(message, type) {
                const statusDiv = document.getElementById('import-status');
                statusDiv.innerHTML = `<div class="alert alert-${type === 'success' ? 'success' : 'danger'}">${message}</div>`;
                setTimeout(() => statusDiv.innerHTML = '', 5000);
            }
            
            // Danger Zone
            clearAllData() {
                if (confirm('Are you sure you want to clear ALL data? This cannot be undone!')) {
                    if (confirm('This is your final warning. ALL settings will be lost!')) {
                        localStorage.removeItem(this.storageKey);
                        this.showNotification('All data cleared. Page will reload.', 'info');
                        setTimeout(() => location.reload(), 2000);
                    }
                }
            }
            
            resetToDefaults() {
                if (confirm('Reset everything to default settings? This cannot be undone!')) {
                    this.settings = this.getDefaultSettings();
                    this.saveSettings();
                    this.initializeUI();
                    this.showNotification('All settings reset to defaults!', 'info');
                }
            }
            
            // Keyboard shortcuts
            handleKeyboardShortcuts(e) {
                if (e.ctrlKey) {
                    switch (e.key) {
                        case 's':
                            e.preventDefault();
                            this.saveCurrentSection();
                            break;
                        case 'e':
                            e.preventDefault();
                            this.exportSettings();
                            break;
                        case 'h':
                            e.preventDefault();
                            this.showSection('help');
                            break;
                    }
                } else if (!e.ctrlKey && !e.altKey && !e.metaKey) {
                    const sections = ['dashboard', 'holiday-banner', 'testimonials', 'currency', 'export-import', 'help'];
                    const num = parseInt(e.key);
                    if (num >= 1 && num <= 6) {
                        e.preventDefault();
                        this.showSection(sections[num - 1]);
                    }
                }
            }
            
            saveCurrentSection() {
                switch (this.currentSection) {
                    case 'holiday-banner':
                        this.saveHolidayBanner();
                        break;
                    case 'testimonials':
                        this.saveTestimonials();
                        break;
                    case 'currency':
                        this.saveCurrency();
                        break;
                }
            }
            
            // Show notification
            showNotification(message, type = 'info') {
                // Remove existing notification
                const existing = document.querySelector('.admin-notification');
                if (existing) existing.remove();
                
                const notification = document.createElement('div');
                notification.className = `alert alert-${type === 'success' ? 'success' : type === 'error' ? 'danger' : 'info'} admin-notification`;
                notification.style.cssText = 'position: fixed; top: 20px; right: 20px; z-index: 9999; min-width: 300px;';
                notification.innerHTML = `
                    ${message}
                    <button type="button" class="btn-close" onclick="this.parentElement.remove()"></button>
                `;
                
                document.body.appendChild(notification);
                
                setTimeout(() => {
                    if (notification.parentElement) {
                        notification.remove();
                    }
                }, 5000);
            }
        }
        
        // Initialize Admin Panel when DOM is loaded
        document.addEventListener('DOMContentLoaded', () => {
            window.adminPanel = new AdminPanel();
        });
    </script>
</body>
</html>